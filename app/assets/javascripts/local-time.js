(function(){var t=this;(function(){(function(){var t=[].slice;this.LocalTime={config:{},run:function(){return this.getController().processElements()},process:function(){var e,r,n,a;for(r=1<=arguments.length?t.call(arguments,0):[],n=0,a=r.length;n<a;n++)e=r[n],this.getController().processElement(e);return r.length},getController:function(){return null!=this.controller?this.controller:this.controller=new e.Controller}}}).call(this)}).call(t);var e=t.LocalTime;(function(){(function(){e.config.i18n={en:{date:{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbrDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbrMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yesterday:"yesterday",beforeyesterday:"day before yesterday",previous:"last {day}",daysago:"{days} days ago",today:"today",tomorrow:"tomorrow",aftertomorrow:"day after tomorrow",next:"next {day}",on:"on {date}",formats:{"default":"%b %e, %Y",thisYear:"%b %e"}},time:{am:"am",pm:"pm",singular:"a {time}",singularAn:"an {time}",elapsed:"{time} ago",second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",formats:{"default":"%l:%M%P"}},datetime:{at:"{date} at {time}",formats:{"default":"%B %e, %Y at %l:%M%P %Z"}}}}}).call(this),function(){e.config.locale="en",e.config.defaultLocale="en"}.call(this),function(){e.config.timerInterval=6e4}.call(this),function(){var t,r,n;n=!isNaN(Date.parse("2011-01-01T12:00:00-05:00")),e.parseDate=function(t){return t=t.toString(),n||(t=r(t)),new Date(Date.parse(t))},t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|[-+]?[\d:]+)$/,r=function(e){var r,n,a,i,o,s,u,c,l;if(a=e.match(t))return a[0],c=a[1],o=a[2],r=a[3],n=a[4],i=a[5],u=a[6],l=a[7],"Z"!==l&&(s=l.replace(":","")),c+"/"+o+"/"+r+" "+n+":"+i+":"+u+" GMT"+[s]}}.call(this),function(){e.elementMatchesSelector=function(){var t,e,r,n,a,i;return t=document.documentElement,e=null!=(r=null!=(n=null!=(a=null!=(i=t.matches)?i:t.matchesSelector)?a:t.webkitMatchesSelector)?n:t.mozMatchesSelector)?r:t.msMatchesSelector,function(t,r){if((null!=t?t.nodeType:void 0)===Node.ELEMENT_NODE)return e.call(t,r)}}()}.call(this),function(){var t,r,n;t=e.config,n=t.i18n,e.getI18nValue=function(a,i){var o,s;return null==a&&(a=""),o=(null!=i?i:{locale:t.locale}).locale,s=r(n[o],a),null!=s?s:o!==t.defaultLocale?e.getI18nValue(a,{locale:t.defaultLocale}):void 0},e.translate=function(t,r,n){var a,i,o;null==r&&(r={}),o=e.getI18nValue(t,n);for(a in r)i=r[a],o=o.replace("{"+a+"}",i);return o},r=function(t,e){var r,n,a,i,o;for(o=t,i=e.split("."),r=0,a=i.length;r<a;r++){if(n=i[r],null==o[n])return null;o=o[n]}return o}}.call(this),function(){var t,r,n,a,i,o;t=e.getI18nValue,o=e.translate,e.strftime=i=function(e,s){var u,c,l,d,h,f,m;return c=e.getDay(),u=e.getDate(),h=e.getMonth(),m=e.getFullYear(),l=e.getHours(),d=e.getMinutes(),f=e.getSeconds(),s.replace(/%([%aAbBcdDeHIlmMpPSwWyYZ])/g,function(s){switch(s[0],s[1]){case"%":return"%";case"a":return t("date.abbrDayNames")[c];case"A":return t("date.dayNames")[c];case"b":return t("date.abbrMonthNames")[h];case"B":return t("date.monthNames")[h];case"c":return e.toString();case"d":return n(u);case"e":return u;case"H":return n(l);case"I":return n(i(e,"%l"));case"l":return 0===l||12===l?12:(l+12)%12;case"m":return n(h+1);case"M":return n(d);case"p":return o("time."+(l>11?"pm":"am")).toUpperCase();case"P":return o("time."+(l>11?"pm":"am"));case"S":return n(f);case"w":return c;case"W":return r(e);case"y":return n(m%100);case"Y":return m;case"Z":return a(e)}})},n=function(t){return("0"+t).slice(-2)},r=function(t){var e,r;return e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7)),r=new Date(Date.UTC(e.getUTCFullYear(),0,1)),Math.ceil(((e-r)/864e5+1)/7)},a=function(t){var e,r,n,a,i;return i=t.toString(),(e=null!=(r=i.match(/\(([\w\s]+)\)$/))?r[1]:void 0)?/\s/.test(e)?e.match(/\b(\w)/g).join(""):e:(e=null!=(n=i.match(/(\w{3,4})\s\d{4}$/))?n[1]:void 0)?e:(e=null!=(a=i.match(/(UTC[\+\-]\d+)/))?a[1]:void 0)?e:""}}.call(this),function(){e.CalendarDate=function(){function t(t,e,r){this.date=new Date(Date.UTC(t,e-1)),this.date.setUTCDate(r),this.year=this.date.getUTCFullYear(),this.month=this.date.getUTCMonth()+1,this.day=this.date.getUTCDate(),this.value=this.date.getTime()}return t.fromDate=function(t){return new this(t.getFullYear(),t.getMonth()+1,t.getDate())},t.today=function(){return this.fromDate(new Date)},t.prototype.equals=function(t){return(null!=t?t.value:void 0)===this.value},t.prototype.is=function(t){return this.equals(t)},t.prototype.isToday=function(){return this.is(this.constructor.today())},t.prototype.occursOnSameYearAs=function(t){return this.year===(null!=t?t.year:void 0)},t.prototype.occursThisYear=function(){return this.occursOnSameYearAs(this.constructor.today())},t.prototype.daysSince=function(t){if(t)return(this.date-t.date)/864e5},t.prototype.daysPassed=function(){return this.constructor.today().daysSince(this)},t}()}.call(this),function(){var t,r,n;r=e.strftime,n=e.translate,t=e.getI18nValue,e.RelativeTime=function(){function a(t){this.date=t,this.calendarDate=e.CalendarDate.fromDate(this.date)}return a.prototype.toString=function(){var t,e;return(e=this.toTimeElapsedString())?n("time.elapsed",{time:e}):(t=this.toWeekdayString())?(e=this.toTimeString(),n("datetime.at",{date:t,time:e})):n("date.on",{date:this.toDateString()})},a.prototype.toTimeOrDateString=function(){return this.calendarDate.isToday()?this.toTimeString():this.toDateString()},a.prototype.toTimeElapsedString=function(){var t,e,r,a,i;return r=(new Date).getTime()-this.date.getTime(),a=Math.round(r/1e3),e=Math.round(a/60),t=Math.round(e/60),r<0?null:a<10?(i=n("time.second"),n("time.singular",{time:i})):a<45?a+" "+n("time.seconds"):a<90?(i=n("time.minute"),n("time.singular",{time:i})):e<45?e+" "+n("time.minutes"):e<90?(i=n("time.hour"),n("time.singularAn",{time:i})):t<24?t+" "+n("time.hours"):""},a.prototype.toWeekdayString=function(){switch(this.calendarDate.daysPassed()){case 0:return n("date.today");case 1:return n("date.yesterday");case-1:return n("date.tomorrow");case 2:case 3:case 4:case 5:case 6:return r(this.date,"%A");default:return""}},a.prototype.toDateString=function(){var e;return e=t(this.calendarDate.occursThisYear()?"date.formats.thisYear":"date.formats.default"),r(this.date,e)},a.prototype.toTimeString=function(){return r(this.date,t("time.formats.default"))},a.prototype.toDayDiffString=function(){var t,e;switch(t=this.calendarDate.daysPassed()){case 0:return n("date.today");case 1:return n("date.yesterday");case 2:return n("date.beforeyesterday");case 3:case 4:case 5:case 6:case 7:return n("date.previous",{day:r(this.date,"%A")});case-1:return n("date.tomorrow");case-2:return n("date.aftertomorrow");case-3:case-4:case-5:case-6:case-7:return n("date.next",{day:r(this.date,"%A")});default:return e=-1*t,e>0?r(this.date,"%Y:%W:%w"):n("date.daysago",{days:Math.abs(e)})}},a}()}.call(this),function(){var t,r=function(t,e){return function(){return t.apply(e,arguments)}};t=e.elementMatchesSelector,e.PageObserver=function(){function e(t,e){this.selector=t,this.callback=e,this.processInsertion=r(this.processInsertion,this),this.processMutations=r(this.processMutations,this)}return e.prototype.start=function(){if(!this.started)return this.observeWithMutationObserver()||this.observeWithMutationEvent(),this.started=!0},e.prototype.observeWithMutationObserver=function(){var t;if("undefined"!=typeof MutationObserver&&null!==MutationObserver)return t=new MutationObserver(this.processMutations),t.observe(document.documentElement,{childList:!0,subtree:!0}),!0},e.prototype.observeWithMutationEvent=function(){return addEventListener("DOMNodeInserted",this.processInsertion,!1),!0},e.prototype.findSignificantElements=function(e){var r;return r=[],(null!=e?e.nodeType:void 0)===Node.ELEMENT_NODE&&(t(e,this.selector)&&r.push(e),r.push.apply(r,e.querySelectorAll(this.selector))),r},e.prototype.processMutations=function(t){var e,r,n,a,i,o,s,u;for(e=[],r=0,a=t.length;r<a;r++)switch(o=t[r],o.type){case"childList":for(u=o.addedNodes,n=0,i=u.length;n<i;n++)s=u[n],e.push.apply(e,this.findSignificantElements(s))}return this.notify(e)},e.prototype.processInsertion=function(t){var e;return e=this.findSignificantElements(t.target),this.notify(e)},e.prototype.notify=function(t){if(null!=t?t.length:void 0)return"function"==typeof this.callback?this.callback(t):void 0},e}()}.call(this),function(){var t,r,n,a,i=function(t,e){return function(){return t.apply(e,arguments)}};n=e.parseDate,a=e.strftime,r=e.getI18nValue,t=e.config,e.Controller=function(){function o(){this.processElements=i(this.processElements,this),this.pageObserver=new e.PageObserver(s,this.processElements)}var s,u,c;return s="time[data-local]:not([data-localized])",o.prototype.start=function(){if(!this.started)return this.processElements(),this.startTimer(),this.pageObserver.start(),this.started=!0},o.prototype.startTimer=function(){var e;if(e=t.timerInterval)return null!=this.timer?this.timer:this.timer=setInterval(this.processElements,e)},o.prototype.processElements=function(t){var e,r,n;for(null==t&&(t=document.querySelectorAll(s)),r=0,n=t.length;r<n;r++)e=t[r],this.processElement(e);return t.length},o.prototype.processElement=function(t){var e,i,o,s,l;if(e=t.getAttribute("datetime"),i=t.getAttribute("data-format"),o=t.getAttribute("data-local"),s=n(e),!isNaN(s))return t.hasAttribute("title")||(l=a(s,r("datetime.formats.default")),t.setAttribute("title",l)),t.textContent=function(){switch(o){case"time":return u(t),a(s,i);case"date":return u(t),c(s).toDateString();case"time-ago":return c(s).toString();case"time-or-date":return c(s).toTimeOrDateString();case"weekday":return c(s).toWeekdayString();case"weekday-or-date":return c(s).toWeekdayString()||c(s).toDateString();case"relative-days":return c(s).toDayDiffString()}}()},u=function(t){return t.setAttribute("data-localized","")},c=function(t){return new e.RelativeTime(t)},o}()}.call(this),function(){var t,r,n,a;a=!1,t=function(){return document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState},r=function(t){var e;return null!=(e="function"==typeof requestAnimationFrame?requestAnimationFrame(t):void 0)?e:setTimeout(t,17)},n=function(){var t;return t=e.getController(),t.start()},e.start=function(){if(!a)return a=!0,"undefined"!=typeof MutationObserver&&null!==MutationObserver||t()?n():r(n)},window.LocalTime===e&&e.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}).call(this);